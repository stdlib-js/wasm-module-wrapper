"use strict";var V=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}};var b=V(function(U,_){"use strict";var h=require("@stdlib/assert-is-nonnegative-integer").isPrimitive,f=require("@stdlib/assert-is-collection"),S=require("@stdlib/assert-is-arraybuffer"),W=require("@stdlib/assert-is-function"),o=require("@stdlib/utils-define-nonenumerable-read-only-property"),l=require("@stdlib/utils-define-nonenumerable-read-only-accessor"),R=require("@stdlib/assert-has-wasm-support"),T=require("@stdlib/object-assign"),y=require("@stdlib/array-uint8"),g=require("@stdlib/array-dataview"),w=require("@stdlib/ndarray-base-bytes-per-element"),z=require("@stdlib/math-base-special-ceil"),j=require("@stdlib/strided-base-write-dataview").ndarray,M=require("@stdlib/strided-base-read-dataview").ndarray,v=require("@stdlib/array-dtype"),d=require("@stdlib/wasm-base-dtype2wasm"),a=require("@stdlib/string-format"),P=R(),x=64*1024;function i(t,e,r){if(!(this instanceof i))return arguments.length>2?new i(t,e,r):new i(t,e,{});if(!P)throw new Error("unexpected error. Environment does not support WebAssembly.");return S(t)&&(t=new y(t)),this._binary=t,this._module=null,this._instance=null,this._imports=r,e?(this._memory=e,this._view=new g(e.buffer),this._buffer=new y(e.buffer)):(this._memory=null,this._view=null,this._buffer=null),this}l(i.prototype,"binary",function(){return this._binary.slice()});l(i.prototype,"memory",function(){return this._memory});l(i.prototype,"buffer",function(){return this._buffer});l(i.prototype,"view",function(){return this._view});l(i.prototype,"exports",function(){return this._instance?T({},this._instance.exports):null});o(i.prototype,"initialize",function(){var e,r;return e=this,this._instance?r=n:r=m,new Promise(r);function n(s){s(e)}function m(s,u){var c=WebAssembly.instantiate(e._binary,e._imports);c.then(A,q);function A(p,E){e._module=p,e._instance=E,s(e)}function q(p){u(p)}}});o(i.prototype,"initializeAsync",function(e){var r,n;if(!W(e))throw new TypeError(a("invalid argument. Must provide a function. Value: `%s`.",e));if(this._instance)return e(null,this);r=this,n=WebAssembly.instantiate(this._binary,this._imports),n.then(m,s);function m(u,c){r._module=u,r._instance=c,e(null,r)}function s(u){e(u)}});o(i.prototype,"initializeSync",function(){return this._instance?this:(this._module=new WebAssembly.Module(this._binary),this._instance=new WebAssembly.Instance(this._module,this._imports),this)});o(i.prototype,"realloc",function(e){var r;if(!h(e))throw new TypeError(a("invalid argument. Must provide a nonnegative integer. Value: `%s`.",e));if(this._memory===null)return!1;if(r=z((e-this._buffer.length)/x),r>0){try{this._memory.grow(r)}catch(n){return!1}return this._view=new g(this._memory.buffer),this._buffer=new y(this._memory.buffer),!0}return!1});o(i.prototype,"hasCapacity",function(e,r){var n;if(!h(e))throw new TypeError(a("invalid argument. First argument must be a nonnegative integer. Value: `%s`.",e));if(!f(r))throw new TypeError(a("invalid argument. Second argument must be an array-like object. Value: `%s`.",r));return!(this._memory===null||(n=w(d(v(r)||"generic")),r.length*n+e>this._buffer.length))});o(i.prototype,"isView",function(e){if(!f(e))throw new TypeError(a("invalid argument. Must provide an array-like object. Value: `%s`.",e));return this._memory&&e.buffer?e.buffer===this._memory.buffer:!1});o(i.prototype,"write",function(e,r){var n;if(this._memory===null)throw new Error("invalid invocation. Unable to perform write operation, as the WebAssembly module is not bound to an underlying WebAssembly memory instance.");if(!h(e))throw new TypeError(a("invalid argument. First argument must be a nonnegative integer. Value: `%s`.",e));if(!f(r))throw new TypeError(a("invalid argument. Second argument must be an array-like object. Value: `%s`.",r));if(n=w(d(v(r)||"generic")),r.length*n+e>this._buffer.length)throw new RangeError("invalid argument. Second argument is incompatible with the specified byte offset and available memory. Resize the underlying memory instance in order to accommodate the list of provided values.");return j(r.length,r,1,0,this._view,n,e,!0),this});o(i.prototype,"read",function(e,r){var n;if(this._memory===null)throw new Error("invalid invocation. Unable to perform read operation, as the WebAssembly module is not bound to an underlying WebAssembly memory instance.");if(!h(e))throw new TypeError(a("invalid argument. First argument must be a nonnegative integer. Value: `%s`.",e));if(!f(r))throw new TypeError(a("invalid argument. Second argument must be an array-like object. Value: `%s`.",r));if(n=w(d(v(r)||"generic")),r.length*n+e>this._buffer.length)throw new RangeError("invalid argument. Second argument is incompatible with the specified byte offset and available memory. Not enough values to fill the provided output array.");return M(r.length,this._view,n,e,r,1,0,!0),this});_.exports=i});var F=b();module.exports=F;
/**
* @license Apache-2.0
*
* Copyright (c) 2024 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
